{% extends "layouts/layout.njk" %}

{% from 'macros/piece-index.njk' import pieceList %}

{% block title %}
  {{ data.page.title }} | Arts et MÃ©dias
{% endblock %}

{% block main %}
  <div class="page-search">
    <div class="content">
      <main id="main">
        <article>
          <h1>{{ data.page.title }}</h1>

          <div class="page-content">
            <form data-apos-search-page-form method="GET" action="{{ data.url | e }}#main">
              {% if data.filters %}
                <div class="ld-meta">{{ __ns('apostrophe', 'Filter Results By Type') }}</div>
                <ul>
                  {% for filter in data.filters %}
                    <li>
                      <input data-apos-search-filter type="checkbox" name="{{ filter.name | e }}"
                        {% if filter.value %}checked{% endif %}
                        value="1"
                      />{{ filter.label | e }}
                    </li>
                  {% endfor %}
                </ul>
              {% endif %}
              <div class="ld-meta">{{ __ns('apostrophe', 'New Search') }}</div>
              <input type="search" data-apos-search-field value="{{ data.query.q | e }}" name="q" />
              <input type="submit" value="Search" />
            </form>

            <h2>Results</h2>
            {{ pieceList(data.docs) }}

            {% include "pager.html" %}
          </div>

          {% include "partials/sidebar/sidebar.njk" %}
        </article>


        {#
        {% for doc in data.docs %}
          <h4>
            {% if doc._url %}
              <a href="{{ doc._url }}">{% endif %}{{ doc.title }}{% if doc._url %}</a>
            {% endif %}
          </h4>
        {% endfor %}
         #}

      </main>
    </div>
  </div>
{% endblock %}

