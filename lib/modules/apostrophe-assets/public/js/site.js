!function(){var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},o={},a={}.hasOwnProperty,i=/^\.\.?(\/|$)/,r=function(e,t){for(var n,o=[],a=(i.test(t)?e+"/"+t:t).split("/"),r=0,c=a.length;r<c;r++)".."===(n=a[r])?o.pop():"."!==n&&""!==n&&o.push(n);return o.join("/")},c=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t,o){var a,i={id:t,exports:{},hot:f&&f.createHot(t)};return n[t]=i,o(i.exports,(a=t,function(t){var n=r(c(a),t);return e.require(n,a)}),i),i.exports},s=function(e){var t=o[e];return t&&e!==t?s(t):e},require=function(e,o){null==o&&(o="/");var i=s(e);if(a.call(n,i))return n[i].exports;if(a.call(t,i))return u(i,t[i]);throw new Error("Cannot find module '"+e+"' from '"+o+"'")};require.alias=function(e,t){o[t]=e};var d=/\.[^.\/]+$/,l=/\/index(\.[^\/]+)?$/;require.register=require.define=function(e,i){if(e&&"object"==typeof e)for(var r in e)a.call(e,r)&&require.register(r,e[r]);else t[e]=i,delete n[e],function(e){if(d.test(e)){var t=e.replace(d,"");a.call(o,t)&&o[t].replace(d,"")!==t+"/index"||(o[t]=e)}if(l.test(e)){var n=e.replace(l,"");a.call(o,n)||(o[n]=e)}}(e)},require.list=function(){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e};var f=e._hmr&&new e._hmr((function(e,t){return s(r(c(e),t))}),require,t,n);require._cache=n,require.hmr=f&&f.wrap,require.brunch=!0,e.require=require}}(),function(){"undefined"==typeof window||window;require.register("components/lang-switch",(function(e,t,n){var o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.init=function(){e=document.body.dataset.locale,o=e?e.substr(0,2).toLowerCase():"en",a=document.getElementsByClassName("lang-switch-form"),function(){if(!a||!a.length)return void console.warn("Unable to handle lang switch form submissions");for(var e=function(e){var t=a[e];t.addEventListener("submit",(function(e){e.preventDefault(),e.stopPropagation(),o=t.langRadio.value.toLowerCase(),window.location="/".concat(o,"/")}))},t=0;t<a.length;t++)e(t)}();var e}})),require.register("components/mega-menu",(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.init=function(){o=document.getElementById("headerNav"),a=document.querySelectorAll(".header-nav .nav-list .nav-item .nav-item-btn"),i=document.getElementById("megaMenuPanel"),r=document.querySelectorAll(".mega-menu .hide-mega-menu-button"),document&&document.body?document.body.addEventListener("click",(function(e){if(m){var t=o.contains(e.target),n=i.contains(e.target);t||n||y()}})):console.warn("Unable to handle clicks on <body>"),document.addEventListener("keydown",(function(e){if(m){var t=e.key,n=e.shiftKey;"Escape"===t&&y().then((function(){return p(v)})),"Tab"===t&&(n?document.activeElement===c&&(e.preventDefault(),u.focus()):document.activeElement===u&&i.focus())}})),window?window.addEventListener("resize",(function(){(d.isMobileOrTablet()&&"mmLangSwitch"!==v||d.isMobile())&&y().then((function(){return p(v)}))})):console.warn("Unable to handle window resize"),function(){if(a&&a.length)for(var e=0;e<a.length;e++)a[e].addEventListener("click",(function(e){var t=e.target,n="true"===t.getAttribute("aria-expanded"),o=t.dataset.contentId;b({button:t,isExpanded:n}),g(),w(),u=null,n?n&&t.dataset.contentId===v?y():console.warn("Unable to toggle mega menu visibility"):(t.setAttribute("aria-expanded",!0),L(v=o),E(),h().then((function(){return i.focus()})))}));else console.warn("Unable to handle nav items mouse events")}(),function(){if(r&&r.length)for(var e=function(e){var t=r[e];t.addEventListener("click",(function(){y().then((function(){p(t.dataset.contentId)}))}))},t=0;t<r.length;t++)e(t);else console.warn("Unable to handle hide buttons' click")}()};var o,a,i,r,c,u,s,d=t("../models/breakpoints-model"),l=t("../utils/get-previous-element-sibling"),f=["mmDiscover","mmParticipate","mmVisit","mmRead","mmLearn","mmSearch","mmLangSwitch"],m=!1,v=null;function g(e){f.forEach((function(t){if(!e||t!==e){var n="".concat(t,"Button"),o=document.getElementById(n);o&&o.setAttribute("aria-expanded",!1)}}))}function p(e){var t=document.getElementById("".concat(e,"Button"));t?t.focus():console.warn('Unable to get caret button with content id "'.concat(e,'"'))}function b(e){for(var t=e.button,n=e.isExpanded,a=o.getElementsByClassName("nav-link"),i=0;i<a.length;i++){var r=a[i];r&&r.classList.remove("active")}var c=l(t);c&&(n?c.classList.remove("active"):c.classList.add("active"))}function h(){return i.classList.add("visible"),new Promise((function(e){B(750,(function(){m=!0,e()}))}))}function y(){return i.classList.remove("visible"),g(),new Promise((function(e){B(500,(function(){m=!1,e()}))}))}function E(){var e=document.getElementById(v).querySelectorAll('a, button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');c=e[0],u=e[e.length-1]}function w(){f.forEach((function(e){var t=document.getElementById(e);t?t.classList.remove("visible"):console.warn("Unable to get section with id ".concat(e))}))}function L(e){var t=document.getElementById(e);t?t.classList.add("visible"):console.warn('Unable to show section with id "'.concat(e,'"'))}function B(e,t){clearTimeout(s),s=null,s=setTimeout(t,e)}})),require.register("components/mobile-menu",(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.init=function(){i=document.getElementById("closeMobileMenuButton"),a=document.getElementById("openMobileMenuButton"),c=document.getElementById("mobileMenu"),r=document.getElementById("overlay"),a.addEventListener("click",d),i.addEventListener("click",s),r.addEventListener("click",s),window.addEventListener("resize",l)};var o=t("../models/breakpoints-model"),a=void 0,i=void 0,r=void 0,c=void 0,u=!1;function s(){c.classList.remove("visible"),r.classList.remove("visible"),document.body.style.overflowY="auto",document.body.style.overflowX="hidden",u=!1}function d(){c.classList.add("visible"),r.classList.add("visible"),document.body.style.overflowY="hidden",document.body.style.overflowX="hidden",u=!0}function l(){!o.isMobile()&&u&&s()}})),require.register("components/skip-to-main-button",(function(e,t,n){var o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.init=function(){o=document.getElementById("skipToMainBtn"),a=document.getElementById("main"),o.addEventListener("click",(function(e){a.focus()}))}})),require.register("constants/breakpoint",(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={PHONE:375,TABLET:768,DESKTOP:1024,XL:1280,XXL:1440,HD:1920}})),require.register("constants/column-width",(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={XS:40,SM:35,MD:50,XL:60,XXL:70,HD:80}})),require.register("constants/content-width",(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={PHONE:320,TABLET:695,DESKTOP:930,XL:1105,XXL:1280,HD:1510}})),require.register("constants/gutter-width",(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={XS:16,SM:25,MD:30,XL:35,XXL:40,HD:50}})),require.register("initialize",(function(e,t,n){var o=["models/breakpoints-model","components/mega-menu","components/lang-switch","components/mobile-menu","components/skip-to-main-button","pages/analytics-downloads"];$((function(){o.forEach((function(e){var n=t("./".concat(e));"function"==typeof n.init&&n.init()}))}))})),require.register("models/breakpoints-model",(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.init=function(){u(),window.onresize=s},e.getCurrent=function(){return c},e.getCurrentColumnWidth=function(){var e=-1;switch(c){case o.PHONE:e=a.XS;break;case o.TABLET:e=a.SM;break;case o.DESKTOP:e=a.MD;break;case o.XL:e=a.XL;break;case o.XXL:e=a.XXL}return e},e.getCurrentGutterWidth=function(){var e=-1;switch(c){case o.PHONE:e=i.XS;break;case o.TABLET:e=i.SM;break;case o.DESKTOP:e=i.MD;break;case o.XL:e=i.XL;break;case o.XXL:e=i.XXL}return e},e.isMobile=function(){return c===o.PHONE},e.isMobileOrTablet=function(){return c===o.PHONE||c===o.TABLET};var o=t("../constants/breakpoint").default,a=t("../constants/column-width").default,i=t("../constants/gutter-width").default,r=void 0,c=void 0;function u(){r=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth),c=r>=o.DESKTOP?o.DESKTOP:r>=o.TABLET?o.TABLET:r>=o.XL?o.XL:r>=o.XXL?o.XXL:o.PHONE}function s(){u()}})),require.register("pages/analytics-downloads",(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.init=function(){var e=document.getElementsByClassName("analytics-downloads-template");if(!e.length)return;o="true"===e[0].dataset.isLocal,a=document.getElementById("academiaDataButton"),i=document.getElementById("articlesDataButton"),r=document.getElementById("booksDataButton"),c=document.getElementById("eventsDataButton"),u=document.getElementById("mediaDataButton"),s=document.getElementById("orgsDataButton"),d=document.getElementById("peopleDataButton"),l=document.getElementById("projectsDataButton"),f=document.getElementById("piecesCreatedAtForm"),m=document.getElementById("piecesCreatedAtButton"),v=document.getElementById("fetchBannersDataButton"),g=document.getElementById("fetchLinksDataButton"),a.onclick=function(e){return T(e,h)},i.onclick=function(e){return T(e,p)},r.onclick=function(e){return T(e,b)},c.onclick=function(e){return T(e,y)},u.onclick=function(e){return T(e,E)},s.onclick=function(e){return T(e,w)},d.onclick=function(e){return T(e,L)},l.onclick=function(e){return T(e,B)},f.onsubmit=P,v.onclick=M,g.onclick=X};var o,a,i,r,c,u,s,d,l,f,m,v,g,p="article",b="book",h="education",y="event",E="media",w="organization",L="person",B="project",k={env:{local:"http://localhost:3232",prod:"/api"},api:{content:[{type:p,method:"GET",url:"/content/get-articles"},{type:b,method:"GET",url:"/content/get-books"},{type:h,method:"GET",url:"/content/get-academia"},{type:y,method:"GET",url:"/content/get-events"},{type:E,method:"GET",url:"/content/get-media"},{type:w,method:"GET",url:"/content/get-organizations"},{type:L,method:"GET",url:"/content/get-people"},{type:B,method:"GET",url:"/content/get-projects"}],createdAt:{method:"POST",url:"/content/created-at"},stats:{getBanners:{method:"GET",url:"/stats/get-banners"},getForwardLinks:{method:"GET",url:"/stats/get-forward-links"}}}};function T(e,t){e.target.dataset.isPending=!0;var n=new XMLHttpRequest;n.onerror=function(){D(n),e.target.dataset.isPending=!1},n.onload=function(){e.target.dataset.isPending=!1,200===n.status?S(n.response,"".concat(_(t),".tsv")):console.warn("unable to load:",n.statusText)};var a=function(e){var t=k.api.content.find((function(t){return t.type===e}));return{url:"".concat(o?k.env.local:k.env.prod).concat(t.url),method:t.method}}(t);n.open(a.method,a.url),n.send()}function P(e){m.dataset.isPending=!0,e.preventDefault(),e.stopPropagation();var t=f.createdAtYear.value,n=f.createdAtMonth.value,o=new XMLHttpRequest;o.onerror=function(){D(o),m.dataset.isPending=!1},o.onload=function(){if(m.dataset.isPending=!1,200===o.status){var e=_("during-".concat(t,"-").concat((n+1).toString().padStart(2,"0")));S(o.response,"".concat(e,".tsv"))}else console.warn("unable to load:",o.statusText)};var a=k.api.createdAt.method,i="".concat(k.env.local).concat(k.api.createdAt.url);o.open(a,i),o.setRequestHeader("Content-type","application/json;charset=UTF-8"),o.send(JSON.stringify({year:t,month:n}))}function M(){v.dataset.isPending=!0;var e=new XMLHttpRequest;e.onerror=function(){D(e),v.dataset.isPending=!1},e.onload=function(){v.dataset.isPending=!1,200===e.status?S(e.response,"".concat(_("banners"),".tsv")):console.warn("unable to load:",e.statusText)};var t=k.api.stats.getBanners.method,n="".concat(k.env.local).concat(k.api.stats.getBanners.url);e.open(t,n),e.send()}function X(){g.dataset.isPending=!0;var e=new XMLHttpRequest;e.onerror=function(){D(e),g.dataset.isPending=!1},e.onload=function(){g.dataset.isPending=!1,200===e.status?S(e.response,"".concat(_("forward-links"),".tsv")):console.warn("unable to load:",e.statusText)};var t=k.api.stats.getForwardLinks.method,n="".concat(k.env.local).concat(k.api.stats.getForwardLinks.url);e.open(t,n),e.send()}function _(e){var t=new Date;return"aem-".concat(e,"-").concat(t.getFullYear())+"".concat((t.getMonth()+1).toString().padStart(2,"0"))+"".concat(t.getDate().toString().padStart(2,"0"))+"-"+"".concat(t.getHours().toString().padStart(2,"0"))+"".concat(t.getMinutes().toString().padStart(2,"0"))}function S(e,t){var n=new Blob([e],{type:"application/text"}),o=document.createElement("a");o.href=window.URL.createObjectURL(n),o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)}function D(e){console.warn("error loading:",e.statusText)}})),require.register("utils/get-previous-element-sibling",(function(e,t,n){n.exports=function e(t,n){if(!t)return null;var o=0|n;if(o>=10)return null;var a=t.previousSibling;if(o++,!a||1!==a.nodeType)return e(a,o);return a}})),require.register("utils/human-readable-file-size-si",(function(e,t,n){n.exports=function(e){var t=Math.floor(Math.log(e)/Math.log(1024)),n=(e/Math.pow(1024,t)).toFixed(1);return"".concat(n," ").concat(["","K","M","G","T","P","E","Z","Y"][t],"B")}})),require.register("utils/is-draft-mode",(function(e,t,n){n.exports=function(){var e=!1,t=document.body.classList;if(!t)return e;for(var n=0;n<t.length;n++){var o=t[n];o&&o.indexOf("draft")>-1&&(e=!0)}return e}})),require.register("___globals___",(function(e,t,n){}))}(),require("___globals___"),require("initialize");
