{% extends "layouts/layout.njk" %}


{%- from 'macros/banner-ad.njk' import leaderboard -%}
{%- from 'macros/cta.njk' import seeAllOfTypeCTA -%}
{%- from 'macros/metadata.njk' import descriptiveMetaData -%}
{%- from 'macros/piece-index.njk' import eventList, bookList -%}


{%- set locale = apos.aemI18n.getSanitizedLocale(data) -%}


{% block title %}
  {{ __('global|shortDescription') }} | {{ __('global|title') }}
{% endblock %}

{% block metadata %}
  {{
    descriptiveMetaData({
      title: __('global|title'),
      description: __('global|longDescription'),
      url: data.page._url,
      baseUrl: apos.aemUtils.ensureHTTPS(data.baseUrl),
      locale: locale
    })
  }}
{% endblock %}

{% block main %}
  <div class="page home">
    <div class="content">
      <main id="main" tabindex="-1">
        <article>
          <h1 class="sr-only">{{ __('pages|home|title') }}</h1>

          <div class="page-content">
            {{
              leaderboard({
                data: data,
                propName: 'homeTopLeaderboard',
                isTopLeaderboard: true
              })
            }}

            {% include "partials/home/articles-section.njk" %}

            {{
              leaderboard({
                data: data,
                propName: 'homeLeaderboard2'
              })
            }}

            {% include "partials/home/events-section.njk" %}

            {{
              leaderboard({
                data: data,
                propName: 'homeLeaderboard3'
              })
            }}

            {% include "partials/home/books-section.njk" %}

            {{
              leaderboard({
                data: data,
                propName: 'homeLeaderboard4'
              })
            }}

            {% include "partials/home/projects-section.njk" %}

            {{
              leaderboard({
                data: data,
                propName: 'homeLeaderboard5'
              })
            }}
          </div>

        </article>
      </main>
    </div>
  </div>
{% endblock %}

{% block extraBody %}
  <script
    async
    src="https://platform.twitter.com/widgets.js"
    charset="utf-8"
  ></script>
{% endblock %}
