{%- from 'macros/hero-image.njk' import heroImage -%}
{%- from 'macros/piece-details.njk' import truncatedDescription -%}
{%- from 'macros/piece-link-list.njk' import pieceLinkList -%}


{%- macro featuredArticle(piece, label) -%}
  <article class="featured-piece-widget featured-article-widget">
    <p class="feature-type">{{ label }}</p>

    <h1>{{ piece.title }}</h1>

    {%- set publicationDate = apos.aem.formatDate(piece.publicationDate) -%}
    <div class="byline-and-date">
      {% for author in piece._originalAuthor %}
        <span>{{ author.title }}</span>
      {% endfor %}
      <span class="publication-date">, {{ publicationDate }}</span>
    </div>

    {{ heroImage(piece) }}

    <div class="short-description">
      {{ truncatedDescription(piece) }}
    </div>

    <a class="cta" href="{{ piece._url }}">Read Article</a>
  </article>
{%- endmacro -%}

{% macro featuredEvent(piece, label) %}
  <article class="featured-piece-widget featured-event-widget">
    <p class="feature-type">{{ label }}</p>

    <h1>{{ piece.title }}</h1>

    <p class="byline">
      {{ apos.aem.formatDate(piece.startDate) }}, {{ piece.city }}, {{ piece.country }}
    </p>

    {{ heroImage(piece) }}

    <div class="text-container">
      <div class="short-description">
        {{ truncatedDescription(piece) }}
      </div>

      <a class="cta" href="{{ piece._url }}">View Details</a>
    </div>
  </article>
{% endmacro %}
