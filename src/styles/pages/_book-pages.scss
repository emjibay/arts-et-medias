@use '../common/variables' as vars;
@use '../common/ui' as ui;
@use '../mixins/mixins' as mx;
@use '../mixins/functions' as fn;
@use '../mixins/hero-image' as img;


// mixins
@mixin bookCover {
  @include img.heroImageShadow();
  position: relative;
  float: left;
  margin-bottom: fn.getGutterHalfWidth(vars.$phone);
  margin-right: fn.getGutterWidth(vars.$phone);
  margin-top: 45px;
  width: fn.getColumnsSpan(3, vars.$phone);
  object-fit: contain;

  @media #{ vars.$mqTablet } {
    margin-bottom: fn.getGutterHalfWidth(vars.$tablet);
    margin-right: fn.getGutterWidth(vars.$tablet);
    width: fn.getColumnsSpan(4, vars.$tablet);
  }

  @media #{ vars.$mqDesktop } {
    margin-bottom: fn.getGutterHalfWidth(vars.$desktop);
    margin-right: fn.getGutterWidth(vars.$desktop);
    width: fn.getColumnsSpan(4, vars.$desktop);
  }

  @media #{ vars.$mqXL } {
    margin-bottom: fn.getGutterHalfWidth(vars.$xl);
    margin-right: fn.getGutterWidth(vars.$xl);
    width: fn.getColumnsSpan(4, vars.$xl);
  }

  @media #{ vars.$mqXXL } {
    margin-bottom: fn.getGutterHalfWidth(vars.$xxl);
    margin-right: fn.getGutterWidth(vars.$xxl);
    width: fn.getColumnsSpan(4, vars.$xxl);
  }
}


// styles
.book-details {
  .page-content {
    margin-top: 0;
  }

  .book-subtitle {
    @include ui.heading3();
    margin: 10px 0;
  }

  .book-cover {
    @include bookCover();
  }
}

[data-apos-workflow-mode="draft"] {
  .book-details {
    .page-content {
      [data-dot-path="heroImage"] {
        [data-apos-widget-wrapper="apostrophe-images"] {
          outline: none;
        }
        [data-apos-widget="apostrophe-images"] {
          .apos-ui {
            position: relative;
            top: 50px;
          }
        }
        .image-link {
          img {
            @include bookCover();
          }
        }
        figcaption {
          display: none;
        }
      }
    }
  }
}
